// --------------------------------------------------------------------------------------------------------------------
///
/// \file LibCanModule.h
///
/// \brief Interface for the Diagnostic / UDS Layer
///
///
/// Copyright (c) 2021 Neusoft.
/// All Rights Reserved.
///
// --------------------------------------------------------------------------------------------------------------------

 

#ifndef LIBCANMODULE_H__INCLUDED
#define LIBCANMODULE_H__INCLUDED

// --------------------------------------------------------------------------------------------------------------------
//	Includes
// --------------------------------------------------------------------------------------------------------------------
#include "LibCanMsg.h"
#include "LibCanDrvMsg.h"

// --------------------------------------------------------------------------------------------------------------------
//	Global Definitions
// --------------------------------------------------------------------------------------------------------------------


// --------------------------------------------------------------------------------------------------------------------
//	Global Data Types
// --------------------------------------------------------------------------------------------------------------------

// --------------------------------------------------------------------------------------------------------------------
/// \brief Checks if a message is dedicated to a CAN module
/// 
/// \param msgId
///	The CAN Identifier (11- or 29-bit)
// --------------------------------------------------------------------------------------------------------------------
typedef bool_t (*LibCanModule_IsMsg)(uint32_t msgId);

// --------------------------------------------------------------------------------------------------------------------
/// \brief Indicates the reception of a CAN frame to the CAN module
/// 
/// \param pMsg
/// The received CAN frame
/// \param devId
/// Device ID of the interface that received the frame
// --------------------------------------------------------------------------------------------------------------------
typedef void (*LibCanModule_MsgIndicate)(S_LibCan_Msg_t *pMsg);

// --------------------------------------------------------------------------------------------------------------------
/// \brief Confirms that a CAN frame was sent successfully
/// 
/// \param msgId
/// Message identifier that was sent successfully
/// \param devId
/// Device ID of the interface that sent the frame
// --------------------------------------------------------------------------------------------------------------------
typedef void (*LibCanModule_MsgConfirm)(uint32_t msgId);

// --------------------------------------------------------------------------------------------------------------------
/// \brief Structure representing the Interface of a CAN module
// --------------------------------------------------------------------------------------------------------------------
typedef struct S_LibCanModule_Module_t {
	// ----------------------------------------------------------------------------------------------------------------
	/// \brief The IsMsg Callback
	/// \sa LibCanModule_IsMsg
	// ----------------------------------------------------------------------------------------------------------------
	const LibCanModule_IsMsg 			IsMsg;

	// ----------------------------------------------------------------------------------------------------------------
	/// \brief The MsgIndicate Callback
	/// \sa LibCanModule_MsgIndicate
	// ----------------------------------------------------------------------------------------------------------------
	const LibCanModule_MsgIndicate 		MsgIndicate;

	// ----------------------------------------------------------------------------------------------------------------
	/// \brief The MsgConfirm Callback
	/// \sa LibCanModule_MsgConfirm
	// ----------------------------------------------------------------------------------------------------------------
	const LibCanModule_MsgConfirm 		MsgConfirm;

} S_LibCanModule_Module_t;

// --------------------------------------------------------------------------------------------------------------------
//	Imported Variables
// --------------------------------------------------------------------------------------------------------------------


// --------------------------------------------------------------------------------------------------------------------
//	Global Function Prototypes
// --------------------------------------------------------------------------------------------------------------------



#endif // LIBCANMODULE_H__INCLUDED

